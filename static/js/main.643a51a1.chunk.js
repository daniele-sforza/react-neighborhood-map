(this["webpackJsonpreact-neighborhood-map"]=this["webpackJsonpreact-neighborhood-map"]||[]).push([[0],{12:function(e,t,n){e.exports=n.p+"static/media/logo.a266a13f.svg"},13:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAJCAYAAADQMdV0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAArmSURBVFhH7VhnVFVXGt0+QBBEBMESe1BsWGJsUTOEqDHWGLshNhQbQQ2xoxgxNqKIDTWgYiwxYtBEMckyY0FjN2oIWGMvqChFkA7z7e+9Z54Ocf7NWrPWbBaLe8+5955zvrK//VFq0rR5xaVKAQUFhShb1h7Tp/ijjJ0diJycHCz4MgKPn6TBxtoaBYWFGDlsAJo2aajzs+eGIWjqJyhdurTenz2fiM1bd2LJopl6T2zcvAMdvNuhTJkyCAoOhYOsUVxUrHNZWc8wa8Z4+bYNPv8iDI6OZZGXnw/XCi6YPnkcrKyscO73RHwV9Y28b4fiYuN7mVlZ+GrVQpw8fR6btsbCsawDcnJzUbmSG0aN+Ajlncrpc5bwGzdNvuusa77X8R/o3rUD1m/cjlYtm8KzYT3TU0C2nDl0yRrMDppoGgGu/HkDYeGRah8zcnLz4PV2a/T9sCsyM7OwbuO3SEq6ojZyr10Dg316o3q11/TZsGWRuHL1Bt7v7IUPur+Hg/HH8G3MHlSpUhHBMyZglP80OJVz1Gd5RtqhW5d30aJ5Ex27dv0WojZsw737D2AvdmjWrBEG9f9Az03s++dh7Nt/BI8epaCcfKf9Wy3Rr083nUt+8Ej9xO/SZsTY8UGyEBDgPwwN69fVMf+Js9TGT59mYuXSENjY2Oh4yIJlSEvNEF8Y9Bsc5776fNhF56cGLUCRjBsYRPLLP7YSD9bXrt/Ed9vW6kMPZWM9+4zEvrjNeJKajoGD/bElejncXF10nuCmOr3bHr17ddGNHDl6Gu++01bntnyzC4VFhbif/BBVKlfUsZjYOAz9uC9u3r4rjnHA4oVyqJdw+fI1OLs4Y/6cyXqfdOEKBg4JQMyWCKTKoZo2bYDRI3x0zhIpKY/lkJ7y/X56/+BhCgb7TkT4l7Ph/npNHTPj0aPHiIwwGjYgcLY61Xdof3h3HoADP3+r48RHQ8djRdgc050RWVnZeiZHRwexS5o65akEk8+AD3TNISM+1cDIyclV42eIcw4ePq5B075tS7HrY33/iSQokZ72VO/pBOLevQfIzs7R9zTBHexx7PgZzJw+Hm++0VgDr1JFVxRJQqY8TkWi2KdWjWqaIFNmzMflK9dhMBgkKfOQmpaBO3eTEffTfkRHLtHvci1+14xbt+8pUfBcRGLSZdy5cx9l7O2Ql5ePX/b/ii6d39E5BnNGeqYmPL9lZ1saFy5d1d+Z0wJw69ZdGIQAePbcvFzk5xWg3VstuB+DfoCo6OaKGtWryCYKdMOREYteCCpi9fJ5iPhqk157S0CdPHVOr4nHYnTfoQNkY0f0Pley2rm8k16b2aZEiIUt5xs2qIu7d+/rNY1vZriXUUom8/ILTHdQ48dsXY1J0+eZRv6C5Tk96tZGRkamXi8PC8HQkYF6vXTFOgzq1xPVqlbRezO4jkEyNi39KeJ2RiNuVzTif4lBm9bNIYwPF5fyes7vd0Rhd+x61PdwRwVhx/mhq/R9K3Ei3zfvoZTB+D3zPa/JpBskEOJ2bkCjhh5wlEA9cOiYOrCcMBgdF744GHvk+4sXztSgOirBd/HSn8omfr4DZW4DFoRMQaGwJplnW8xuONiXgZXBSp8xg9dck+ciyKDWNtZoJpWIVeLAoaM6TlgxYPPylBy4t9EjfVBaWCv+yAnjvDyfK9UicPxIXf/nPZsQHDQB8nWdV9yWqL0r2WMthiCT1axR1TTzIjp39MKvx06jdYtm+pc4deY82rV5E0086z8PLB787Xat9NoghyMjxu76UcuXeWOEQQydkfFUjHRVs2eyBLWf7yCd414uiPF27NyrZTUh8aKO/x3sbG1RYBFsZjCbV63ZiOmzFiE5+RG8vd7S8caN6qFVi6b4YuEK3Lh5G/37dtfxkuBUrqwG0sRJcxDwabCOpUoyMcvH+Pk8d9TkwNHIfpajJeHGzTvKDv8JtrLv7Tv2SIncjZvCAoWS3K6S1M2beQoT5KsdRvlPh8+wCcJwyfrOiZNnYWdnK2xfXhjGW8caSGlr06q5Ovzk6XPPS1pJMLv+YPxxPcO0SePUF38kXTLNGMG1z/yWoD7Yf/CoJgQTxwx7Cd7wlevQo7cvvDr1x+8JF2CgPvpE6uuIMVOwbNV67NoeqQ//HUsQRcVFpisxdnmjnok/fEI1B2E2MNmsrdAiQUayF53lKYHXqIEHatWsruMEnyfNXr9xB/MWrUDPbh0xfEh/nSP9uzg7qQ7ir7nEvgolsSN13Gi/jxE4wU8MZYW9UirM8B8zFIekdC1b/LlppGQYg/wqki5eURlAcC2eNl8CwQwNbBkslh862LwfK1mXMAea5S5tpcTs/XE/YsR52dnZGiBjZb8EmaJTh7dV+xYVFSEqepsGIbUYwSC0RL6ULa5PtinJFuaQIkuxTDKo3Fyd8Z0kPasWk9My8XluBhv1M8sotWZ4qDGxCK5BmePm5qI6tknjBjCQ5laGz8W6NaFYvCBIM4CoU6c2ropoLQk/74vXOkowmBL+uIjTZxNQV94hqMF+l7Ez5xIkGDx0rFiC0UG0g4c80/wNTym5RmFLFBYWobIEDOt61OovsXR5lGmGgVUoG66A+vXc8WbzxirsXwVqH7PTX4a1OJmlfc6sQCyPiDaNGuFY1uikVyE1LV2dHCuadMHcqTpGrUZWiFi7SfUPyz+Tg0lEXVO9mkiLwgJdm+Ke+E0aEjpLBa8JmVIK50kZ4/4YpHXr1DLNAMEhS9BRbLpt00q8Jus52NvjuCRtB++2eCZBmJn5DFu27dJnD/96CmfEF4WyNqsFA5ENBQmETHJHJIa1lEGOsxE4IAxEn2dn5yJ60w48FM1oJwF88NBx/R7BUterx3vo+r63Bi33XkkaJTNICqOlaVq/drHqdX5bAkuiuwSESWdHoU4qt8TwUZOU6s3wat8GqyM3P+8uiI6SXWtkzFKrlJg4JhTLRhjghL0IyB7CWGsit+g9s8FSH1mCbGZZZtg9DfAZh7DQWaaRv2CZubvjfhGd9brpzoi/swPBpCArMGgIZieZiGCApaVnqEbyFdv0HTRGszol5cnzzvL9Tl5Il1L/57Wb6NHHF+fPJ6kGMpcvBkGuaKiqVStj6mdjVVR/s/0HpEkgb/h6u0oKNhzdeg1TMc3kYfmuXasGWrd8Qzvi73b+iO5SiliS2C1Wk460Z/dOWk7ZdNCGwdIdsvtjIjCoSQRxPx3QQKCEGTd6sAYjg+f4yd90b+z4eE9SYMfNoCfLmQOZeo5sG7p0re6vc4/BuoY1y1JJIM1SqIbMD9cSZSO0SSd+JqXEU3SJGRTCdEq/3sb2lqCIpsDr17uraUS0j2QFM35MwIznTqYBQ4ID4SL0aclgLIPUE4STUzmcOn0e584lamkhmKFfrwtT0Rz7/U86Tx1Sx70mtksnSce/DNL32IAg/XdCPY/XsXzJi2WvQX1309W/gxlM1iSzvgw31wr4PiYKa6O2KCOQHeq618Jw6TjNZZvOYpDtiN0rrPYEFaQDptOp8+gYZyn1lAMM3lo1q2kVYKc3V3TfEhHq/DfKfhHy7Gx5to8GfogeXTvot2dJ5xh/5KQkyz7tPske9EeyOH+Y32faGW6Vzj5cGpOExEtqezZH9CODnZqKXehIEf88C3Hi1Fll/es3bqOSlMZn4idzJaNI3/B1DH6Q9XwG9lK7MNjoJ4IEwbJdShZ6BZf8H/+LYEk7cvSUypXhQ4z/ivnvAvgXz5X0DfK3M8MAAAAASUVORK5CYII="},14:function(e,t,n){e.exports=n(36)},19:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),i=n.n(r),s=(n(19),n(2)),l=n(3),c=n(5),d=n(4),u=n(6),h=n(12),f=n.n(h),p=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).selectItem=function(e){n.props.onSelect(e.placeId),window.outerWidth<700&&n.props.toggleMenu()},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.points;return o.a.createElement("div",{className:"list "+(this.props.showMenu?"show":"hidden")},o.a.createElement("input",{id:"search",type:"search",className:"filter",placeholder:"Filter list","aria-label":"filter list",onChange:function(t){return e.props.onFilter(t.target.value)}}),o.a.createElement("ul",null,t.map((function(t,n){return o.a.createElement("li",{key:n,role:"button",tabIndex:"0",onKeyPress:function(n){"Enter"===n.key&&e.selectItem(t)},onClick:function(){return e.selectItem(t)}},t.name)}))))}}]),t}(a.Component),m=n(9),g=n(13),v=n.n(g),w=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={selectedPlace:{},activeMarker:null,markers:[],showingInfoWindow:!1},n.updateState=function(e,t,a){n.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:a}),t.setAnimation(n.props.google.maps.Animation.BOUNCE)},n.resetState=function(){n.state.activeMarker&&n.state.activeMarker.setAnimation(null),n.setState({selectedPlace:{},activeMarker:null,showingInfoWindow:!1}),n.props.onSetSelected("")},n.onMarkerClick=function(e,t,a){n.props.onSetSelected(t.id)},n.mapRef=o.a.createRef(),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.gm_authFailure=this.gm_authFailure,this.setState({markers:this.props.points.map((function(t,n){return o.a.createElement(m.Marker,{key:n,onClick:e.onMarkerClick,name:t.name,position:t.location,id:t.placeId,fsId:t.fsId,ref:o.a.createRef()})}))})}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.points!==e.points&&this.state.markers.forEach((function(e){var n=!0,a=!0,o=!1,r=void 0;try{for(var i,s=t.props.points[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var l=i.value;if(e.props.id===l.placeId){n=!1;break}}}catch(c){o=!0,r=c}finally{try{a||null==s.return||s.return()}finally{if(o)throw r}}n?e.ref.current.marker.setMap(null):e.ref.current.marker.setMap(t.mapRef.current.map)})),this.props.selected!==e.selected){var n=this.state.markers.filter((function(e){return e.props.id===t.props.selected}));n.length>0&&this.getPlacesDetails(n[0].ref.current.marker)}}},{key:"gm_authFailure",value:function(){document.querySelector(".gm-err-title").innerText="There was an error loading Google Maps!",document.querySelector(".gm-err-message").innerHTML="<a href='javascript:window.location.reload(true)'>Try again</a>"}},{key:"onReady",value:function(e,t){t.fitBounds(this.bounds)}},{key:"getPlacesDetails",value:function(e){var t=this;t.state.activeMarker&&t.state.activeMarker.setAnimation(null);var n={};fetch("https://api.foursquare.com/v2/venues/"+e.fsId+"?client_id=SIZPDDRGTG1KVY0QGXDKNYJA2M5PV4QSPRGQQAPN3PB3JBZ2&client_secret=0L2Z0DJE3FHF2IPWLIHI25EIZJJO3VHRVGCPKZVGMEGJRJPN&v=20180323").then((function(e){return e.json()})).then((function(a){var o=a.response.venue;n.name=o.name,n.url=o.shortUrl,n.bestPhoto=o.bestPhoto.prefix+"height100"+o.bestPhoto.suffix,n.rating=o.rating,n.likes=o.likes.count,n.coordinates=o.location.lat+","+o.location.lng+"&query_place_id="+e.id,n.address=o.location.address+", "+o.location.city+", "+o.location.country,n.phone=o.contact.phone,n.website=o.url,t.updateState(n,e,!0)})).catch((function(e){return alert("Can't load data from FourSquare. Check your connection")}))}},{key:"render",value:function(){for(var e=this.props.points,t=new this.props.google.maps.LatLngBounds,n=0;n<e.length;n++)t.extend(e[n].location);var a=this.state.selectedPlace,r=this.state.markers;return o.a.createElement(m.Map,{google:this.props.google,zoom:15,className:"map-cnt",style:{width:"100%",height:"100%"},containerStyle:{height:"80%"},bounds:t,onReady:this.onReady,ref:this.mapRef},r.map((function(e){return e})),o.a.createElement(m.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.resetState},o.a.createElement("div",{className:"info-window"},o.a.createElement("h2",null,o.a.createElement("a",{href:a.url,target:"_blank",rel:"noopener noreferrer"},a.name)),o.a.createElement("img",{src:a.bestPhoto,alt:a.name+" best photo"}),o.a.createElement("ul",{className:"details"},o.a.createElement("li",null,o.a.createElement("strong",null,"Rating:")," ",a.rating),o.a.createElement("li",null,o.a.createElement("strong",null,"Likes:")," ",a.likes),o.a.createElement("li",null,o.a.createElement("strong",null,"Address: "),o.a.createElement("a",{href:"https://www.google.com/maps/search/?api=1&query="+a.coordinates,target:"_blank",rel:"noopener noreferrer"},a.address)),o.a.createElement("li",null,o.a.createElement("strong",null,"Phone No.:")," ",a.phone),o.a.createElement("li",null,o.a.createElement("strong",null,"Website: "),o.a.createElement("a",{href:a.website,target:"_blank",rel:"noopener noreferrer"},a.website))),o.a.createElement("img",{src:v.a,alt:"Powered by Foursquare"}))))}}]),t}(a.Component),k=Object(m.GoogleApiWrapper)({apiKey:"AIzaSyAWTp0vIgXvqJNoVk26NxLTzVPQRED2-ZQ",LoadingContainer:function(e){return o.a.createElement("div",{className:"loading"},"Loading... If it's taking too long check your connection.")}})(w),E=(n(35),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={points:[{name:"Ma Che Siete Venuti A F\xe0",placeId:"ChIJNfxaD0dgLxMRtGBMWLVSbBI",location:{lat:41.8917463,lng:12.4669847},fsId:"4b157a56f964a52071ad23e3"},{name:"Open Baladin Roma",placeId:"ChIJ2ZqDxUhgLxMR1L9c5ZoryBg",location:{lat:41.893488,lng:12.4724373},fsId:"4b815a15f964a520ffa030e3"},{name:"Stavio",placeId:"ChIJuzIfvSdgLxMRZCtEdHt7n3E",location:{lat:41.8720929,lng:12.4683256},fsId:"5411cfd6498e0bce59a3f197"},{name:"Birrificio Marconi",placeId:"ChIJ9TugWpuKJRMRWdRFbAD47m8",location:{lat:41.8648677,lng:12.4695709},fsId:"578bd740498e33f23f11a823"},{name:"Birrifugio Trastevere",placeId:"ChIJoWOjmyNgLxMRvhKq04qWm4I",location:{lat:41.8776079,lng:12.4637572},fsId:"4b7456a0f964a5202fd62de3"},{name:"Il Ponticello",placeId:"ChIJy4bN7YyKJRMRjod2A48TFRo",location:{lat:41.8517081,lng:12.4743566},fsId:"509c0c5fe4b0a2dcab163894"},{name:"Hopside",placeId:"ChIJV0jc6ypgLxMRi0aGs9hKAN4",location:{lat:41.870453,lng:12.4800437},fsId:"52a23bb1498e314da474925d"},{name:"Brasserie 4:20",placeId:"ChIJedEe6SRgLxMRa4izlF2wgpo",location:{lat:41.878588,lng:12.4681703},fsId:"4bf45328ff90c9b60d1b5528"}],filteredList:[],selected:"",showMenu:!0},n.checkDimensions=function(){"search"!==document.activeElement.id&&n.setState({showMenu:!(window.outerWidth<700)})},n.setSelected=function(e){n.setState({selected:e})},n.setFilter=function(e){e=e.trim();var t=n.state.points;""!==e&&(t=n.state.points.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))),n.setState({filteredList:t})},n.toggleMenu=function(){n.setState({showMenu:!n.state.showMenu})},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.checkDimensions(),window.addEventListener("resize",this.checkDimensions),this.setState({filteredList:this.state.points})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkDimensions)}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(p,{points:this.state.filteredList,onSelect:this.setSelected,onFilter:this.setFilter,toggleMenu:this.toggleMenu,showMenu:this.state.showMenu}),o.a.createElement("div",{className:"main"},o.a.createElement("div",{className:"header"},o.a.createElement("header",{className:"App-header"},o.a.createElement("div",{className:"menu",tabIndex:"0",role:"button","aria-label":this.state.showMenu?"close menu":"open menu",onKeyPress:this.toggleMenu,onClick:this.toggleMenu},this.state.showMenu?"X":"\u2630"),o.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"}),o.a.createElement("h1",{className:"App-title"},"NeighBEERhood Map"))),o.a.createElement(k,{points:this.state.filteredList,selected:this.state.selected,onSetSelected:this.setSelected})))}}]),t}(a.Component)),b=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement(E,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/react-neighborhood-map",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/react-neighborhood-map","/service-worker.js");b?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):I(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):I(e)}))}}()}},[[14,1,2]]]);
//# sourceMappingURL=main.643a51a1.chunk.js.map